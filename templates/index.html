<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>PiCar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <link href="https://cdn.bootcss.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
<div class="container">
  <div class="row mt-1">
    <h3>
      智能小车
      <span class="tag tag-success" id="car_status_running" {% if not car_state['running'] %} style="display: none;" {% endif %}>Running</span>
      <span class="tag tag-danger" id="car_status_stopped" {% if car_state['running'] %} style="display: none;" {% endif %}>Stopped</span>
    </h3>
  </div>
  <div class="row mt-1" id="temperature">
      当前温度: {{ car_state['temperature'] }}ºC
  </div>
  <div class="row mt-1" id="humidity">
      当前湿度: {{ car_state['humidity'] }}%
  </div>
  <div class="row mt-1">
    <div class="col-xs-4 offset-xs-4">
      <button id="car_forward" type="button" onclick="carAction('forward')" class="btn btn-outline-primary btn-lg btn-block">前进</button>
    </div>
  </div>
  <div class="row mt-1">
    <div class="col-xs-4">
      <button id="car_turnleft" type="button" onclick="carAction('turnleft')" class="btn btn-outline-primary btn-lg btn-block">左转</button>
    </div>
    <div class="col-xs-4">

    </div>
    <div class="col-xs-4">
      <button id="car_turnright" type="button" onclick="carAction('turnright')" class="btn btn-outline-primary btn-lg btn-block">右转</button>
    </div>
  </div>
  <div class="row mt-1">
    <div class="col-xs-4 offset-xs-4">
      <button id="car_backward" type="button" onclick="carAction('backward')" class="btn btn-outline-primary btn-lg btn-block">后退</button>
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-xs-10 offset-xs-1">
      <button id="car_stop" type="button" onclick="carAction('stop')" class="btn btn-danger btn-lg btn-block">停止</button>
    </div>
  </div>
</div>

<script src="https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/tether/1.3.7/js/tether.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/socket.io/1.5.1/socket.io.min.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
    var socket = io.connect('http://' + document.domain + ':' + location.port);
    socket.on('connect', function () {
      console.log('connect');
    });
    socket.on('car_info', function (data) {
      console.log(data);
    });
  });
</script>
</body>
</html>